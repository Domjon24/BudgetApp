"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _ignoreCaseExt=_interopRequireDefault(require("../../../fc-features/src/ignore-case-ext"));var _utility=require("../../../../smoke-test/test-sanity/utility");var _index=_interopRequireDefault(require("../../../fusioncharts/core/index"));var _doughnut2d=_interopRequireDefault(require("../../../fusioncharts/viz/doughnut2d"));_index.default.addDep(_doughnut2d.default);_index.default.addDep(_ignoreCaseExt.default);describe("setJSONData must not refreshes/renders the entire container",(function(){var chartObj,data={chart:{caption:"Company Revenue",showpercentagevalues:"1",animation:"1",centerlabel:"3.13.0-beta.1"},data:[{label:"Services",value:"26"},{label:"Hardware",value:"32"},{label:"Software",value:"42"}]};beforeEach((function(){chartObj=(0,_utility.setup)(_index.default,{type:"doughnut2d",renderAt:_utility.CONTAINER_ID,width:"600",height:"350",dataFormat:"json",dataSource:data})}));afterEach((function(){chartObj&&!chartObj.disposed&&chartObj.dispose()}));it("Must not render the entire chart",(function(done){var updated=0,rendered=0;chartObj.addEventListener("renderComplete",(function(){updated++<3&&chartObj.setJSONData(data)}));chartObj.addEventListener("beforerender",(function(){rendered++}));setTimeout((function(){expect(rendered).toBe(1);done()}),3e3);chartObj.render()}))}));