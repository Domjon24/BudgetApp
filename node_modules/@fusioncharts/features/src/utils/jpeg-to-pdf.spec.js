"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _utitilies=require("../../../../dev-tests/viz/utitilies");var _index=_interopRequireDefault(require("../../../fusioncharts/core/index"));var _ignoreCaseExt=_interopRequireDefault(require("../../../../packages/fc-features/src/ignore-case-ext"));var _dragnode=_interopRequireDefault(require("../../../../packages/fusioncharts/viz/dragnode"));var _export=_interopRequireDefault(require("../export-module/export"));_index.default.addDep(_dragnode.default);_index.default.addDep(_export.default);_index.default.addDep(_ignoreCaseExt.default);describe("Checking PDF export & its dimensions",(function(){var chartObj,exportEventsObject={},originalTimeout,dataSource={chart:{baseFont:"arial",bgColor:"#FFFFFF",caption:"",captionalignment:"left",viewmode:"1",showformbtn:"0",theme:"fusion",divlinealpha:"0",exportenabled:"1",exportShowMenuItem:"1",showToolTip:"0",showHoverEffect:"0",plotHoverEffect:"0",valueFontSize:14,yAxisMaxValue:535-66,yAxisMinValue:"0",xAxisMaxValue:200-34,xAxisMinValue:"0",showcanvasborder:0},dataset:[{allowDrag:"0",data:[{borderColor:"#000000",color:"#FF1231",height:"167.0",id:"X66559",imageAlign:"top",imageHeight:70,imageNode:1,imageWidth:70,label:"<b>Adams, Bradford V.</b>{br} Full-Time",labelAlign:"bottom",labelEllipsis:"Adams, Bradford V.{br}Full-Time",radius:"0",shape:"rectangle",toolText:"Name: Adams, Bradford V.\nEmployment Type: Full-Time",width:167,widthOfGroupEmployeeCountLabel:"30",x:83.5,y:83.5},{borderColor:"#000000",color:"#FFFF36",height:"167.0",id:"B65987",imageAlign:"top",imageHeight:"70",imageNode:1,imageWidth:"70",label:"<b>Abbotts, Bernadett...</b>{br} Full-Time",labelAlign:"bottom",labelEllipsis:"Abbotts, Bernadett...{br}Full-Time",radius:"0",shape:"rectangle",toolText:"Name: Abbotts, Bernadette G.\nEmployment Type: Full-Time",width:"167.0",widthOfGroupEmployeeCountLabel:"30",x:83.5,y:385.5}]}]},chartData={type:"dragnode",renderAt:"chart-container",width:"200",height:"535",dataFormat:"json",id:"org-chart",dataSource:dataSource,events:{exported:function exported(eventObj,dataObj){exportEventsObject=dataObj}}};beforeAll((function(){originalTimeout=jasmine.DEFAULT_TIMEOUT_INTERVAL;jasmine.DEFAULT_TIMEOUT_INTERVAL=5e3}));afterAll((function(){jasmine.DEFAULT_TIMEOUT_INTERVAL=originalTimeout}));beforeEach((function(){chartObj=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){chartObj&&!chartObj.disposed&&chartObj.dispose()}));it("Checking exported file dimension",(function(done){chartObj.addEventListener("renderComplete",(function(){chartObj.exportChart.call(chartObj,{exportFormat:"pdf"});setTimeout((function(){expect(exportEventsObject.width).toBe(200);expect(exportEventsObject.height).toBe(535);done()}),3e3)}));chartObj.render()}))}));