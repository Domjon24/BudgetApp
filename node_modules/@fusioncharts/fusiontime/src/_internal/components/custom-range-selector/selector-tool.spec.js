"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _index=_interopRequireDefault(require("../../../../../fusioncharts/core/index"));var _index2=require("../../../index");var _fcDatatable=_interopRequireDefault(require("../../../../../fc-datatable"));var _utitilies=require("../../../../../../dev-tests/viz/utitilies");var _language_maps=require("@fusioncharts/utils/src/language_maps");_index.default.addDep(_index2.TimeSeries);var data=[["2016-10-30 09:00:00","2018-10-30 09:00:00",1,"A",2,13],["2016-10-30 09:30:00","2018-10-30 09:30:00",20,"A",3,49],["2016-10-30 10:00:00","2018-10-30 10:00:00",3,"B",4,25],["2016-10-30 10:30:00","2018-10-30 10:30:00",14,"B",5,60],["2016-10-30 11:00:00","2018-10-30 11:00:00",50,"C",6,17],["2016-10-30 11:30:00","2018-10-30 11:30:00",26,"C",7,80]],schema=[{name:"Time",type:"date",format:"%Y-%m-%d %H:%M:%S"},{name:"Time-2",type:"date",format:"%Y-%m-%d %H:%M:%S"},{name:"Measure1",type:"number"},{name:"Item",type:"string"},{name:"Measure2",type:"number"},{name:"Measure3",type:"number"}];var fusionDataStore=new _fcDatatable.default,fusionTable=fusionDataStore.createDataTable(data,schema);describe("CRS should open",(function(){var chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("when CRS is switched on twice",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){document.dispatchEvent(mousedownEvent);document.dispatchEvent(clickEvent);setTimeout((function(){rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var crsDiv=document.getElementsByClassName("fc-crs-widget")[0],triangleDiv=crsDiv.children[0];expect(getComputedStyle(triangleDiv).display).not.toBe("none");expect(crsDiv.childElementCount).not.toBe(1);done()}),32)}),32)}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[0]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[0],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[1]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[1],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[2]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[2],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[3]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[3],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[3]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[3],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[4]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[4],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));describe('Testing Language Feature for "'+_language_maps.toTestLanguage[5]+'"',(function(){schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"commodity",type:"string"},{name:"Cargo",type:"number"},{name:"MA_90",type:"number"},{name:"MA_30",type:"number"},{name:"MA_7",type:"number"}],fusionTable=fusionDataStore.createDataTable(data,schema);var language=_language_maps.toTestLanguage[5],chartData={type:"timeseries",renderAt:_utitilies.CONTAINER_ID,width:600,height:400,dataSource:{chart:{language:language},data:fusionTable,xAxis:{plot:"Time-2",title:"xAxisName"},yAxis:[{plot:{value:"Measure1",type:"line"}},{plot:{value:"Measure2",type:"column"}}]}},chart;beforeEach((function(){chart=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){return chart.dispose()}));it("Checking CRS Tool Text",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),text=crsTextGroup.getElementsByTagName("text"),textString=text[0].innerHTML,translatedMonth=_language_maps.abbreviatedMonthsMap[language][0],isTranslatedMonthPresent=textString.includes(translatedMonth);expect(isTranslatedMonthPresent).toBeTruthy();done()}));chart.render()}));it("Checking CRS DateBox From and To Labels & Buttons",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),children=dateBox.querySelectorAll("div[type=div]"),translatedFROMString=_language_maps.dateBoxLabelMap[language].From.trim(),translatedTOString=_language_maps.dateBoxLabelMap[language].To.trim(),translatedSubmitButtonLabel=_language_maps.crsButtonLabelsMap[language].apply.trim(),translatedCancelButtonLabel=_language_maps.crsButtonLabelsMap[language].cancel.trim();expect(children[1].innerHTML.includes(translatedFROMString)).toBeTruthy();expect(children[2].innerHTML.includes(translatedTOString)).toBeTruthy();expect(children[3].innerHTML.includes(translatedSubmitButtonLabel)).toBeTruthy();expect(children[4].innerHTML.includes(translatedCancelButtonLabel)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Month Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),monthsLabelElems=dateBox.querySelectorAll("span[class=fc-cal-month]"),translatedMonthString=_language_maps.monthsMap[language][0];expect(monthsLabelElems[0].innerHTML.includes(translatedMonthString)).toBeTruthy();expect(monthsLabelElems[1].innerHTML.includes(translatedMonthString)).toBeTruthy();done()}),32)}));chart.render()}));it("Checking CRS DateBox Week Labels",(function(done){chart.addEventListener("renderComplete",(function(e){e.detachHandler();var crsTextGroup=document.querySelector('[class$="-range-selector-text"]'),rect=crsTextGroup.getElementsByTagName("rect")[0],mousedownEvent=new Event("mousedown",{bubbles:true}),clickEvent=new Event("click",{bubbles:true});rect.dispatchEvent(mousedownEvent);rect.dispatchEvent(clickEvent);setTimeout((function(){var dateBox=document.querySelector("[class=fc-crs-widget]"),weekLabelElems,leftDateBoxWeekLabel,rightDateBoxWeekLabel,translatedWeekLabels=_language_maps.weekLabelMap[language],numOfWeekDays=7;for(var i=0;i<numOfWeekDays;i++){weekLabelElems=dateBox.querySelectorAll("[class*=fc-cal-day-"+i+"]");leftDateBoxWeekLabel=weekLabelElems[0].innerHTML;rightDateBoxWeekLabel=weekLabelElems[1].innerHTML;expect(leftDateBoxWeekLabel).toBe(translatedWeekLabels[i]);expect(rightDateBoxWeekLabel).toBe(translatedWeekLabels[i])}done()}),32)}));chart.render()}))}));